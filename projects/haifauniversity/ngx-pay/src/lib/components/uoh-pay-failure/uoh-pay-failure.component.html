<ng-container *ngIf="payment.status === status.Failure; else pendingTemplate">
  <div class="uoh-error uoh-pay-failure-row"><b>התשלום נכשל.</b></div>
  <div class="uoh-error uoh-pay-failure-row">
    {{
      payment.creditResponse
        ? 'קוד שגיאה: ' + payment.creditResponse + '.'
        : 'העסקה אינה מאושרת על ידי חברת האשראי, אנא בדוק את תקפות הכרטיס או נסה עם כרטיס אחר.'
    }}
  </div>
</ng-container>

<ng-template #pendingTemplate>
  <div class="uoh-error uoh-pay-failure-row">
    <div><b>לא ניתן לשלוף את פרטי התשלום.</b></div>
    <div>
      נא לפנות אל <a [href]="contact.website" target="_blank">{{ contact.name }}</a
      >.
    </div>
    <ng-container *ngIf="token">
      <div class="uoh-error uoh-pay-failure-row">
        קוד השגיאה: <span>{{ token }}.</span>
      </div>
      <div class="uoh-pay-failure-row">
        <uoh-pay-failure-contact
          [email]="contact.email"
          [subject]="'שגיאה בשליפת פרטי תשלום - קוד שגיאה: ' + token"
          [body]="'לא ניתן לשלוף את פרטי התשלום - קוד שגיאה: ' + token"
        ></uoh-pay-failure-contact>
      </div>
    </ng-container>
  </div>
</ng-template>
